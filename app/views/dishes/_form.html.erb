<%= form_for @dish, html: {:multipart => true, :role => 'form', :style => 'width:500px;'} do |f| %>

  <%= tb_show_errors_for @dish %>

  <div class="form-group <%= tb_has_error @dish, :photo %>">
    <%= f.label :photo %>
    <%= f.file_field :photo %>
  </div>

  <div class="form-group <%= tb_has_error @dish, :category %>">
    <%= f.label :category %>
    <%= f.collection_select :category_id,
        Category.order(:name), :id, :name,
        {prompt: true, selected: @dish.category_id},
        {class: 'form-control'} %>
  </div>

  <div class="form-group <%= tb_has_error @dish, :name %>">
    <%= f.label :name %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>

  <div class="form-group <%= tb_has_error @dish, :description %>">
    <%= f.label :description %>
    <%= f.text_field :description, class: 'form-control' %>
  </div>

  <div class="form-group <%= tb_has_error @dish, :ingredients %>">
    <%= f.label :ingredients %>
    <%= f.collection_check_boxes :ingredient_ids, Ingredient.order(:name), :id, :name do |b|
        b.label(class: "checkbox") { b.check_box + b.text }
    end %>
  </div>

  <% if @dish.id %>
    <div class="form-group <%= tb_has_error @dish, :ingredients %>">
      <%= f.label :prices %>
      <%= render "/prices/list", dish:@dish %>
    </div>
  <% end %>

  <%= tb_submit @dish %>
  <%= tb_button_back dishes_path %>
<% end %>
